query GetTicket($id: ID!) {
  ticket(id: $id) {
    id
    code
    used
    buyerName
    buyerPhone
    buyerEmail
    createdAt
    event {
      id
      title
      location
      date
      picture
    }
    user {
      id
      name
    }
  }
}

query GetTickets($eventId: ID!) {
  eventTickets(eventId: $eventId) {
    id
    code
    used
    buyerName
    buyerPhone
    buyerEmail
    createdAt
    user {
      id
      name
    }
  }
}

query GetMyTickets {
  myTickets {
    id
    code
    used
    buyerName
    buyerPhone
    buyerEmail
    createdAt
    event {
      id
      title
      date
      location
      picture
    }
  }
}

mutation BuyTicket($input: BuyTicketInput!) {
  buyTicket(input: $input) {
    isInternalPayment
    ticket {
      id
    }
    isExternalPayment
    paymentUri
    stripeClientSecret
  }
}

mutation CheckTicket($code: String!, $eventId: ID!) {
  checkTicket(code: $code, eventId: $eventId) {
    ticket {
      id
      used
      buyerName
      buyerPhone
      buyerEmail
      createdAt
      scannedAt
      scannedBy {
        id
        name
        phone
      }
      event {
        id
        title
      }
      user {
        id
        name
        phone
      }
    }
    messageCode
  }
}
